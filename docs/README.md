# 서비스 개요
## 개발 취지
> 식당 방문자에게 날짜와 주문 금액에 따라 올바르게 혜택 내역을 알려주는  <br>
> `플래너 서비스` 제작! 
<hr>

## 핵심 기능
- 12월에는 다음 5개의 할인 이벤트를 기획중이다.
>  - 크리스마드 디데이 할인
>  - 평일 할인
>  - 주말 할인
>  - 특별 할인
>  - 증정 이벤트

- `날짜`와 `주믄금액`에 따라 이벤트가 중복 적용된다.
- 따라서 사용자에게 혜택 유무, 혜택 내역을 알려주고 이벤트 참여를 유도한다.

## 식당 메뉴
식당의 메뉴는 다음과 같다.
```
<애피타이저>
양송이수프(6,000), 타파스(5,500), 시저샐러드(8,000)

<메인>
티본스테이크(55,000), 바비큐립(54,000), 해산물파스타(35,000), 크리스마스파스타(25,000)

<디저트>
초코케이크(15,000), 아이스크림(5,000)

<음료>
제로콜라(3,000), 레드와인(60,000), 샴페인(25,000)
```
<hr>

# 기능 명세
- 완료한 기능은 기능 옆에 ✅ 이모지를 통해 반영한다.
- 핵심 기능은 제목 옆에 💡로 명시한다.
- 기능 명세는 구현 중에 언제든 추가될 수 있다.
- 예외처리는 구현 중에 계속하여 추가한다.

## 1. 식당 방문 날짜 입력
### 동작
- 다음과 같은 문구를 출력하여 프로젝트의 입력 시작을 알린다. ✅
    ```
    안녕하세요! 우테코 식당 12월 이벤트 플래너입니다.
    12월 중 식당 예상 방문 날짜는 언제인가요? (숫자만 입력해 주세요!)
    ```
-  방문 날짜를 입력받는다. 방문 날짜는 `1~31의 숫자`이다. ✅
    ```
    26
    ```
- 잘못된 입력이 들어오면,`올바른 입력이 들어올 떄까지 재입력`받는다. ✅

### 예외처리
1. .`1 이상 31일 이하`의 숫자가 아닌 경우 ✅
    ```
    [ERROR] 유효하지 않은 날짜입니다. 다시 입력해 주세요.
    ```
2. 입력이 정수가 아닌 경우 ✅
    ```
    [ERROR] 유효하지 않은 입력입니다. 다시 입력해 주세요.
    ```
3. 입력값이 비어있는 경우 ✅
    ```
    [ERROR] 입력값이 비어있습니다!
    ```
<hr>

## 2. 주문할 메뉴와 개수 입력
### 동작
- 다음과 같은 문구를 출력하여 메뉴와 그 개수의 입력 시작을 알린다. ✅
    ```
    주문하실 메뉴를 메뉴와 개수를 알려 주세요. (e.g. 해산물파스타-2,레드와인-1,초코케이크-1)
    ```
- 사용자는 아래와 같이 주문할 메뉴와 그 개수를 입력한다. ✅
    ```
    타파스-1,제로콜라-1
    ```
- 주문할 메뉴와 그 개수를 입력받고 나서 아래와 같은 문구를 출력한다. <br> 이때, 날짜에는 `사용자가 1번에서 입력한 날짜`를 보여준다.
    ```
    12월 26일에 우테코 식당에서 받을 이벤트 혜택 미리 보기!
    ```
### 예외처리
- 음료만 주문한 경우 (e.g 제로콜라-1,제로콜라-1) ✅
    ```
    [ERROR] 음료만 주문하실 수는 없습니다. 다시 입력해 주세요.
    ```
- 메뉴는 한번에 최대 20개까지만 주문할 수 있다. <br> ✅
  (e.g. 시저샐러드-1, 티본스테이크-1, 크리스마스파스타-1, 제로콜라-3, 아이스크림-1의 총개수는 7개)
    ```
    [ERROR] 메뉴는 한번에 최대 20개까지만 주문하실 수 있습니다. 다시 입력해 주세요.
    ```
- 고객이 메뉴판에 없는 메뉴를 입력한 경우 ✅
    ```
    [ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요.
    ```
- 입력한 메뉴의 개수가 1개 미만인 경우 (0, -1 등등) ✅
    ```
    [ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요."
    ```
- 메뉴 형식이 예시와 다른 경우 (`-`, `,`나 특수문자가 들어간 경우) ✅
    ```
    [ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요.
    ```
- 중복 메뉴를 입력한 경우 (e.g. 시저샐러드-1,시저샐러드-1) ✅
    ```
    [ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요.
    ```
<hr>

## 3. 주문 메뉴 출력
### 동작
- 정상적으로 주문 메뉴와 개수를 입력하면, 주문 내역을 다음과 같이 출력한다.
    ```
    <주문 메뉴>
    티본스테이크 1개
    바비큐립 1개
    초코케이크 2개
    제로콜라 1개
    ```
- `에피타이저`, `메인`, `디저트`, `음료`순으로 출력하며 그 안에서 `주문 개수가 가장 많은 음식부터` 출력한다.
<hr>

## 4. 할인 전 총 주문 금액 계산 💡
### 동작
- `2번`에서 입력한 주문 메뉴와 가격을 토대로 할인 전 총 주문 금액을 계산한다. ✅
- `Σ 메뉴가격 * 개수`으로 총합을 계산한다. ✅
<hr>

## 5. 할인 전 총 주문 금액 출력
### 동작
- `4번 동작`의 결과를 다음과 같이 출력한다.
    ```
    <할인 전 총주문 금액>
    142,000원
    ```
- 출력 금액에선 1000원 단위로 `,`를 출력하게 한다. 
- 금액 뒤에 `원`이라는 단위를 붙인다.
<hr>

## 6. 증정 메뉴 개수 산출 💡
- `할인 전 총 주문 금액`이 `12만원 이상`일 때 `샴페인 1개`를 증정한다. ✅
- `12만원이하`일 경우 샴페인은 증정하지 않는다. ✅
- 가격이 `12만원의 배수일 때 마다` 그 배수만큼 샴페일을 증정한다. ✅ <br>
  (e.g. 주문 금액이 25만원이라면 샴페인 2개 증정)
- 샴페인의 개수는 아래와 같이 구한다. ✅
    ```
    할인 전 총 주문 금액 / 120,000 = 샴페인 개수
    ```
- 참고로 `최대 할인 전 총 주문 금액은 1,100,000`,티본스테이크(55,000) * 20이다. <br> 
이에 따라 `최대 샴페인 증정 개수는 9개`다. ✅
<hr>

## 7. 증정 내역 출력
- 아래와 같이 출력하여 사용자에게 증정 내역을 알린다.
    ```
    <증정 메뉴>
    샴페인 1개
    ```
-  만약 증정 내역이 없다면 아래와 같이 출력한다.
    ```
    <증정 메뉴>
    없음
    ```
<hr>

## 8. 혜택 내역 산출 💡
- 각 혜택은 중첩될 수 있다!<br>
  >e.g 12월 3일의 경우, `크리스마스 D-Day이벤트`, `평일 할인`, `특별 할인`, `증정 이벤트`가 적용된다.


### 8-1. 크리스마스 디데이 할인 (1일 ~25일) 💡
- `1,000원`으로 시작하여 `크리스마스 25일`이 다가올때마다 할인 금액이 증가한다. ✅<br>
e.g. 시작일인 12월 1일에 1,000원, 2일에 1,100원, ..., 25일엔 3,400원 할인
- 할인 금액은 다음과 같은 수식을 통해 구한다. ✅
    ```
    크리스마스 디데이 할인 금액 = 1000 + 100 * (예약 날짜 - 1)
    ```
- 이 할인은 `총 주문 금액`에서 할인이 적용된다.
<hr>

### 8-2. 평일 할인 💡
- `평일 할`인은 `일요일~목요일`까지 적용된다. ✅
- `평일 할인`은 `디저트 메뉴 하나당 2023원` 할인한다. ✅
- `디저트 메뉴`는 다음과 같다. ✅
    ```
    <디저트>
    초코케이크(15,000), 아이스크림(5,000)
    ```

### 8-3. 주말 할인 💡
- `주말 할인`은 `금요일~토요일`까지 적용된다. ✅
- `주말 할인`은 `메인 메뉴를 1개당 2023원` 할인한다. ✅
- `메인 메뉴`는 다음과 같다. ✅
    ```
    <메인>
    티본스테이크(55,000), 바비큐립(54,000), 해산물파스타(35,000)
    ,크리스마스파스타(25,000)
    ```

### 8-4. 특별 할인 💡
- `특별 할인`은 `매주 일요일`과 `크리스마스 당일`에 적용된다. ✅
- `특별 할인`은 `총 주문 금액에서 1000원` 할인된다. ✅
<hr>

## 9. 혜택 내역 출력
- 8번의 과정을 거친 후에 혜택 내역을 출력한다.
- 혜택 내역은 다음과 같이 출력한다.
    ```
    <혜택 내역>
    크리스마스 디데이 할인: -1,200원
    평일 할인: -4,046원
    특별 할인: -1,000원
    증정 이벤트: -25,000원
    ```
- 금액은 차감된 할인액에 `-`를 붙여서 표시한다. 
- ` 증정 이벤트`는 지급된 `샴페인 개수 * 샴폐인 금액`만큼 출력한다. 💡
- 만약 적용된 이벤트가 하나도 없는 경우 다음과 같이 출력한다.
    ```
    <혜택 내역>
    없음
    ```
- 만약 혜택 내역이 전체 중에 일부만 적용된다면 다음과 같이 출력한다.
    ```
    <혜택 내역>
    크리스마스 디데이 할인: -1,200원
    ```
<hr>

## 10. 총 혜택 금액 산출
- 9번과정에서 산출한 혜택 내역을 토대로 총 햬택 금액을 산출한다.
- 총 혜택 금액은 다음 수식으로 구해진다.
    ```
    💡 총 혜택 금액 = 할인 금액의 합계 + 증정 메뉴의 가격
    ```
<hr>

## 11. 총 혜택 금액 출력
- 10번과정에서 산출한 총 혜택 금액을 다음과 같이 출력한다. 혜택 금액에 `-`부호를 붙여서 출력한다.
    ```
    <총혜택 금액>
    -31,246원
    ```
- 만약 햬택 금액이 없다면, 다음과 같이 출력한다.
    ```
    <총혜택 금액>
    0원
    ```
<hr>

## 12. 할인 후 예상 결제 금액 산출
- 다음과 같은 수식으로 할인 후 예상 결제 금액을 구한다.
    ```
    할인 후 예상 결제 금액 = 할인 전 총 주문 금액 - 할인 금액
    ```
- 주의할 점으로, `할인 금액`에 증정 상품인 **샴폐인의 가격은 포함되지 않는다.** 💡
<hr>

## 13. 할인 후 예상 결제 금액 결과 출력
- 12번 과정에서 구한 `할인 후 예상 결제 금액`을 다음과 같이 출력한다.
    ```
    <할인 후 예상 결제 금액>
    135,754원
    ```
<hr>

## 14. 혜택 금액에 따른 12월 이벤트 배지 부여 💡
- `10번 과정`에서 산출한 혜택 금엑에 따라 이벤트 벳지를 부여한다.
- 이벤트 배지 부여의 정책은 다음과 같다.
    ```
    - 5천 원 이상: `별`
    - 1만 원 이상: `트리`
    - 2만 원 이상: `산타`
    ```
  >💡  출력에 따르면 `31246`원인 경우, `산타`만 배지를 부여했다.<br>
  > 그렇다면 2만원 이상인 경우는 모두 산타 하나만 부여할 것인가?? <br>
  > ApplicationTest에선 이 출력에 대해선 검사하고 있지 않다. <br>
  > 그렇다면 이 부분을 **4만원 이상인 경우엔 산타를 두개 부여하는 정책**을 적용해볼까?
<hr>

## 15. 이벤트 배지 출력
- `14번 과정`에서 구한 이벤트 배지를 다음과 같이 출력한다.
    ```
    <12월 이벤트 배지>
    산타
    ```
- 만약 이벤트 배지가 없는 경우 다음과 같이 출력한다.
    ```
    <12월 이벤트 배지>
    없음
    ```

## 예시 동작 모습
```
안녕하세요! 우테코 식당 12월 이벤트 플래너입니다.
12월 중 식당 예상 방문 날짜는 언제인가요? (숫자만 입력해 주세요!)
3
주문하실 메뉴를 메뉴와 개수를 알려 주세요. (e.g. 해산물파스타-2,레드와인-1,초코케이크-1)
티본스테이크-1,바비큐립-1,초코케이크-2,제로콜라-1
12월 3일에 우테코 식당에서 받을 이벤트 혜택 미리 보기!
 
<주문 메뉴>
티본스테이크 1개
바비큐립 1개
초코케이크 2개
제로콜라 1개
 
<할인 전 총주문 금액>
142,000원
 
<증정 메뉴>
샴페인 1개
 
<혜택 내역>
크리스마스 디데이 할인: -1,200원
평일 할인: -4,046원
특별 할인: -1,000원
증정 이벤트: -25,000원
 
<총혜택 금액>
-31,246원
 
<할인 후 예상 결제 금액>
135,754원
 
<12월 이벤트 배지>
산타
```
